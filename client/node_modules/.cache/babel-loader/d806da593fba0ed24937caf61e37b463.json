{"ast":null,"code":"import _classCallCheck from \"/Users/jack/project/twitter-demo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jack/project/twitter-demo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jack/project/twitter-demo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jack/project/twitter-demo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jack/project/twitter-demo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jack/project/twitter-demo/client/src/components/search/search.js\";\nimport React, { Component } from 'react';\nimport './search.css';\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.inputChange = function (e) {\n      _this.setState({\n        searchText: e.target.value\n      });\n    };\n\n    _this.search = function () {\n      fetch(\"/api/twitter?key=\".concat(_this.state.searchText)).then(function (res) {\n        return res.json();\n      }).then(function (tweet) {\n        return _this.setState({\n          tweets: tweet\n        }, function () {\n          return console.log('Customers fetched...', tweet);\n        });\n      });\n    };\n\n    _this.keyword = function () {\n      fetch(\"/api/search?key=\".concat(_this.state.searchText)).then(function (res) {\n        return res.json();\n      }).then(function (tweet) {\n        return _this.setState({\n          tweets: tweet.statuses\n        }, function () {\n          return console.log('Customers fetched...', tweet);\n        });\n      });\n    };\n\n    _this.like = function (e) {\n      fetch(\"/api/like?key=\".concat(e)).then(function (res) {\n        return res.json();\n      }).then(function (like) {\n        return _this.setState({\n          like: _this.state.like.concat([like.id])\n        }, function () {\n          return console.log('Customers fetched...', _this.state.like);\n        });\n      });\n    };\n\n    _this.state = {\n      tweets: [],\n      searchText: null,\n      like: []\n    };\n    var _this$props = _this.props,\n        smallText = _this$props.smallText,\n        func = _this$props.func;\n    _this.smallText = smallText ? smallText : \"Use Twitter user/handle name to capture tweets\";\n    _this.call = func;\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Search Twitter\"), React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.smallText), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.inputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.call === 'keyword' ? this.keyword : this.search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Search\")), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, this.state.tweets.length > 0 && this.call !== 'keyword' ? this.state.tweets[0].user.name : null), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, this.state.tweets.map(function (el) {\n        var check = _this2.state.like.includes(el.id);\n\n        var fav = el.favorited;\n        return React.createElement(\"li\", {\n          key: el.id,\n          className: check || fav ? 'liked' : null,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, el.text, !(check || fav) ? React.createElement(\"button\", {\n          className: \"like-btn\",\n          onClick: _this2.like.bind(_this2, el.id_str),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, \"Like\") : null);\n      })));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/Users/jack/project/twitter-demo/client/src/components/search/search.js"],"names":["React","Component","Search","props","inputChange","e","setState","searchText","target","value","search","fetch","state","then","res","json","tweet","tweets","console","log","keyword","statuses","like","concat","id","smallText","func","call","length","user","name","map","el","check","includes","fav","favorited","text","bind","id_str"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './search.css';\n\nclass Search extends Component {\n  \n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      tweets: [],\n      searchText:null,\n      like:[]\n    };  \n    let {smallText,func} = this.props \n    this.smallText=(smallText)?smallText:`Use Twitter user/handle name to capture tweets`;\n    this.call=func;\n  }\n  \n  \n  inputChange=(e)=>{\n    this.setState({searchText:e.target.value})\n  }\n\n  search = ()=>{\n    fetch(`/api/twitter?key=${this.state.searchText}`)\n      .then(res => res.json())\n      .then(tweet => this.setState({tweets: tweet}, () => console.log('Customers fetched...', tweet)));\n  } \n\n  keyword = ()=>{\n    fetch(`/api/search?key=${this.state.searchText}`)\n  .then(res => res.json())\n  .then(tweet => this.setState({tweets: tweet.statuses}, () => console.log('Customers fetched...', tweet)));\n}\n  \nlike = (e)=>{\n  fetch(`/api/like?key=${e}`)\n  .then(res => res.json())\n  .then(like => this.setState({like:this.state.like.concat([like.id])}, () => console.log('Customers fetched...', this.state.like)));\n}\n  \n\n  render() {\n    return (\n      <div>\n        <h1>Search Twitter</h1>\n          <small>{this.smallText}</small>\n          <div>\n            <input type='text' onChange={this.inputChange}/>\n            <button onClick={(this.call==='keyword')?this.keyword:this.search}>Search</button>\n          </div>\n          <h3>{(this.state.tweets.length>0 && this.call!=='keyword')?this.state.tweets[0].user.name:null}</h3>\n          <ul>\n            {this.state.tweets.map(el => {\n              let check = this.state.like.includes(el.id);\n              let fav = el.favorited\n              \n              return <li key={el.id} className={(check||fav)?'liked':null}>\n                        {el.text}  \n                        {(!(check||fav))?<button className='like-btn' onClick={this.like.bind(this,el.id_str)}>Like</button>\n                        :null}\n                      </li>\n            }\n              \n            )}\n          </ul>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}